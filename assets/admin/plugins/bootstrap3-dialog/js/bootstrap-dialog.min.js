(function(c,g){"undefined"!==typeof module&&module.exports?"undefined"!==typeof process&&"electron"in process.versions?c.BootstrapDialog=g(c.jQuery):module.exports=g(require("jquery"),require("bootstrap")):"function"===typeof define&&define.amd?define("bootstrap-dialog",["jquery","bootstrap"],function(c){return g(c)}):c.BootstrapDialog=g(c.jQuery)})(this,function(c){var g=c.fn.modal.Constructor,f=function(a,b){g.call(this,a,b)};f.getModalVersion=function(){var a=null;return a="undefined"===typeof c.fn.modal.Constructor.VERSION?
"v3.1":/3\.2\.\d+/.test(c.fn.modal.Constructor.VERSION)?"v3.2":/3\.3\.[1,2]/.test(c.fn.modal.Constructor.VERSION)?"v3.3":"v3.3.4"};f.ORIGINAL_BODY_PADDING=parseInt(c("body").css("padding-right")||0,10);f.METHODS_TO_OVERRIDE={};f.METHODS_TO_OVERRIDE["v3.1"]={};f.METHODS_TO_OVERRIDE["v3.2"]={hide:function(a){a&&a.preventDefault();a=c.Event("hide.bs.modal");this.$element.trigger(a);this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,0===this.getGlobalOpenedDialogs().length&&this.$body.removeClass("modal-open"),
this.resetScrollbar(),this.escape(),c(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),c.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",c.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())}};f.METHODS_TO_OVERRIDE["v3.3"]={setScrollbar:function(){var a=f.ORIGINAL_BODY_PADDING;this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},resetScrollbar:function(){0===
this.getGlobalOpenedDialogs().length&&this.$body.css("padding-right",f.ORIGINAL_BODY_PADDING)},hideModal:function(){this.$element.hide();this.backdrop(c.proxy(function(){0===this.getGlobalOpenedDialogs().length&&this.$body.removeClass("modal-open");this.resetAdjustments();this.resetScrollbar();this.$element.trigger("hidden.bs.modal")},this))}};f.METHODS_TO_OVERRIDE["v3.3.4"]=c.extend({},f.METHODS_TO_OVERRIDE["v3.3"]);f.prototype={constructor:f,getGlobalOpenedDialogs:function(){var a=[];c.each(b.dialogs,
function(b,c){c.isRealized()&&c.isOpened()&&a.push(c)});return a}};f.prototype=c.extend(f.prototype,g.prototype,f.METHODS_TO_OVERRIDE[f.getModalVersion()]);var b=function(a){this.defaultOptions=c.extend(!0,{id:b.newGuid(),buttons:[],data:{},onshow:null,onshown:null,onhide:null,onhidden:null},b.defaultOptions);this.indexedButtons={};this.registeredButtonHotkeys={};this.draggableData={isMouseDown:!1,mouseOffset:{}};this.opened=this.realized=!1;this.initOptions(a);this.holdThisInstance()};b.BootstrapDialogModal=
f;b.NAMESPACE="bootstrap-dialog";b.TYPE_DEFAULT="type-default";b.TYPE_INFO="type-info";b.TYPE_PRIMARY="type-primary";b.TYPE_SUCCESS="type-success";b.TYPE_WARNING="type-warning";b.TYPE_DANGER="type-danger";b.DEFAULT_TEXTS={};b.DEFAULT_TEXTS[b.TYPE_DEFAULT]="Information";b.DEFAULT_TEXTS[b.TYPE_INFO]="Information";b.DEFAULT_TEXTS[b.TYPE_PRIMARY]="Information";b.DEFAULT_TEXTS[b.TYPE_SUCCESS]="Success";b.DEFAULT_TEXTS[b.TYPE_WARNING]="Warning";b.DEFAULT_TEXTS[b.TYPE_DANGER]="Danger";b.DEFAULT_TEXTS.OK=
"OK";b.DEFAULT_TEXTS.CANCEL="Cancel";b.DEFAULT_TEXTS.CONFIRM="Confirmation";b.SIZE_NORMAL="size-normal";b.SIZE_SMALL="size-small";b.SIZE_WIDE="size-wide";b.SIZE_LARGE="size-large";b.BUTTON_SIZES={};b.BUTTON_SIZES[b.SIZE_NORMAL]="";b.BUTTON_SIZES[b.SIZE_SMALL]="";b.BUTTON_SIZES[b.SIZE_WIDE]="";b.BUTTON_SIZES[b.SIZE_LARGE]="btn-lg";b.ICON_SPINNER="glyphicon glyphicon-asterisk";b.defaultOptions={type:b.TYPE_PRIMARY,size:b.SIZE_NORMAL,cssClass:"",title:null,message:null,nl2br:!0,closable:!0,closeByBackdrop:!0,
closeByKeyboard:!0,spinicon:b.ICON_SPINNER,autodestroy:!0,draggable:!1,animate:!0,description:"",tabindex:-1};b.configDefaultOptions=function(a){b.defaultOptions=c.extend(!0,b.defaultOptions,a)};b.dialogs={};b.openAll=function(){c.each(b.dialogs,function(a,b){b.open()})};b.closeAll=function(){c.each(b.dialogs,function(a,b){b.close()})};b.getDialog=function(a){var e=null;"undefined"!==typeof b.dialogs[a]&&(e=b.dialogs[a]);return e};b.setDialog=function(a){return b.dialogs[a.getId()]=a};b.addDialog=
function(a){return b.setDialog(a)};b.moveFocus=function(){var a=null;c.each(b.dialogs,function(b,c){a=c});null!==a&&a.isRealized()&&a.getModal().focus()};b.METHODS_TO_OVERRIDE={};b.METHODS_TO_OVERRIDE["v3.1"]={handleModalBackdropEvent:function(){this.getModal().on("click",{dialog:this},function(a){a.target===this&&a.data.dialog.isClosable()&&a.data.dialog.canCloseByBackdrop()&&a.data.dialog.close()});return this},updateZIndex:function(){var a=0;c.each(b.dialogs,function(b,e){a++});var e=this.getModal(),
d=e.data("bs.modal").$backdrop;e.css("z-index",1050+20*(a-1));d.css("z-index",1040+20*(a-1));return this},open:function(){!this.isRealized()&&this.realize();this.getModal().modal("show");this.updateZIndex();return this}};b.METHODS_TO_OVERRIDE["v3.2"]={handleModalBackdropEvent:b.METHODS_TO_OVERRIDE["v3.1"].handleModalBackdropEvent,updateZIndex:b.METHODS_TO_OVERRIDE["v3.1"].updateZIndex,open:b.METHODS_TO_OVERRIDE["v3.1"].open};b.METHODS_TO_OVERRIDE["v3.3"]={};b.METHODS_TO_OVERRIDE["v3.3.4"]=c.extend({},
b.METHODS_TO_OVERRIDE["v3.1"]);b.prototype={constructor:b,initOptions:function(a){this.options=c.extend(!0,this.defaultOptions,a);return this},holdThisInstance:function(){b.addDialog(this);return this},initModalStuff:function(){this.setModal(this.createModal()).setModalDialog(this.createModalDialog()).setModalContent(this.createModalContent()).setModalHeader(this.createModalHeader()).setModalBody(this.createModalBody()).setModalFooter(this.createModalFooter());this.getModal().append(this.getModalDialog());
this.getModalDialog().append(this.getModalContent());this.getModalContent().append(this.getModalHeader()).append(this.getModalBody()).append(this.getModalFooter());return this},createModal:function(){var a=c('<div class="modal" role="dialog" aria-hidden="true"></div>');a.prop("id",this.getId());a.attr("aria-labelledby",this.getId()+"_title");return a},getModal:function(){return this.$modal},setModal:function(a){this.$modal=a;return this},createModalDialog:function(){return c('<div class="modal-dialog"></div>')},
getModalDialog:function(){return this.$modalDialog},setModalDialog:function(a){this.$modalDialog=a;return this},createModalContent:function(){return c('<div class="modal-content"></div>')},getModalContent:function(){return this.$modalContent},setModalContent:function(a){this.$modalContent=a;return this},createModalHeader:function(){return c('<div class="modal-header"></div>')},getModalHeader:function(){return this.$modalHeader},setModalHeader:function(a){this.$modalHeader=a;return this},createModalBody:function(){return c('<div class="modal-body"></div>')},
getModalBody:function(){return this.$modalBody},setModalBody:function(a){this.$modalBody=a;return this},createModalFooter:function(){return c('<div class="modal-footer"></div>')},getModalFooter:function(){return this.$modalFooter},setModalFooter:function(a){this.$modalFooter=a;return this},createDynamicContent:function(a){var b=null,b="function"===typeof a?a.call(a,this):a;"string"===typeof b&&(b=this.formatStringContent(b));return b},formatStringContent:function(a){return this.options.nl2br?a.replace(/\r\n/g,
"<br />").replace(/[\r\n]/g,"<br />"):a},setData:function(a,b){this.options.data[a]=b;return this},getData:function(a){return this.options.data[a]},setId:function(a){this.options.id=a;return this},getId:function(){return this.options.id},getType:function(){return this.options.type},setType:function(a){this.options.type=a;this.updateType();return this},updateType:function(){if(this.isRealized()){var a=[b.TYPE_DEFAULT,b.TYPE_INFO,b.TYPE_PRIMARY,b.TYPE_SUCCESS,b.TYPE_WARNING,b.TYPE_DANGER];this.getModal().removeClass(a.join(" ")).addClass(this.getType())}return this},
getSize:function(){return this.options.size},setSize:function(a){this.options.size=a;this.updateSize();return this},updateSize:function(){if(this.isRealized()){var a=this;this.getModal().removeClass(b.SIZE_NORMAL).removeClass(b.SIZE_SMALL).removeClass(b.SIZE_WIDE).removeClass(b.SIZE_LARGE);this.getModal().addClass(this.getSize());this.getModalDialog().removeClass("modal-sm");this.getSize()===b.SIZE_SMALL&&this.getModalDialog().addClass("modal-sm");this.getModalDialog().removeClass("modal-lg");this.getSize()===
b.SIZE_WIDE&&this.getModalDialog().addClass("modal-lg");c.each(this.options.buttons,function(b,d){var h=a.getButton(d.id),f=["btn-lg","btn-sm","btn-xs"],g=!1;if("string"===typeof d.cssClass){var k=d.cssClass.split(" ");c.each(k,function(a,b){-1!==c.inArray(b,f)&&(g=!0)})}g||(h.removeClass(f.join(" ")),h.addClass(a.getButtonSize()))})}return this},getCssClass:function(){return this.options.cssClass},setCssClass:function(a){this.options.cssClass=a;return this},getTitle:function(){return this.options.title},
setTitle:function(a){this.options.title=a;this.updateTitle();return this},updateTitle:function(){if(this.isRealized()){var a=null!==this.getTitle()?this.createDynamicContent(this.getTitle()):this.getDefaultText();this.getModalHeader().find("."+this.getNamespace("title")).html("").append(a).prop("id",this.getId()+"_title")}return this},getMessage:function(){return this.options.message},setMessage:function(a){this.options.message=a;this.updateMessage();return this},updateMessage:function(){if(this.isRealized()){var a=
this.createDynamicContent(this.getMessage());this.getModalBody().find("."+this.getNamespace("message")).html("").append(a)}return this},isClosable:function(){return this.options.closable},setClosable:function(a){this.options.closable=a;this.updateClosable();return this},setCloseByBackdrop:function(a){this.options.closeByBackdrop=a;return this},canCloseByBackdrop:function(){return this.options.closeByBackdrop},setCloseByKeyboard:function(a){this.options.closeByKeyboard=a;return this},canCloseByKeyboard:function(){return this.options.closeByKeyboard},
isAnimate:function(){return this.options.animate},setAnimate:function(a){this.options.animate=a;return this},updateAnimate:function(){this.isRealized()&&this.getModal().toggleClass("fade",this.isAnimate());return this},getSpinicon:function(){return this.options.spinicon},setSpinicon:function(a){this.options.spinicon=a;return this},addButton:function(a){this.options.buttons.push(a);return this},addButtons:function(a){var b=this;c.each(a,function(a,c){b.addButton(c)});return this},getButtons:function(){return this.options.buttons},
setButtons:function(a){this.options.buttons=a;this.updateButtons();return this},getButton:function(a){return"undefined"!==typeof this.indexedButtons[a]?this.indexedButtons[a]:null},getButtonSize:function(){return"undefined"!==typeof b.BUTTON_SIZES[this.getSize()]?b.BUTTON_SIZES[this.getSize()]:""},updateButtons:function(){this.isRealized()&&(0===this.getButtons().length?this.getModalFooter().hide():this.getModalFooter().show().find("."+this.getNamespace("footer")).html("").append(this.createFooterButtons()));
return this},isAutodestroy:function(){return this.options.autodestroy},setAutodestroy:function(a){this.options.autodestroy=a},getDescription:function(){return this.options.description},setDescription:function(a){this.options.description=a;return this},setTabindex:function(a){this.options.tabindex=a;return this},getTabindex:function(){return this.options.tabindex},updateTabindex:function(){this.isRealized()&&this.getModal().attr("tabindex",this.getTabindex());return this},getDefaultText:function(){return b.DEFAULT_TEXTS[this.getType()]},
getNamespace:function(a){return b.NAMESPACE+"-"+a},createHeaderContent:function(){var a=c("<div></div>");a.addClass(this.getNamespace("header"));a.append(this.createTitleContent());a.prepend(this.createCloseButton());return a},createTitleContent:function(){var a=c("<div></div>");a.addClass(this.getNamespace("title"));return a},createCloseButton:function(){var a=c("<div></div>");a.addClass(this.getNamespace("close-button"));var b=c('<button class="close">&times;</button>');a.append(b);a.on("click",
{dialog:this},function(a){a.data.dialog.close()});return a},createBodyContent:function(){var a=c("<div></div>");a.addClass(this.getNamespace("body"));a.append(this.createMessageContent());return a},createMessageContent:function(){var a=c("<div></div>");a.addClass(this.getNamespace("message"));return a},createFooterContent:function(){var a=c("<div></div>");a.addClass(this.getNamespace("footer"));return a},createFooterButtons:function(){var a=this,e=c("<div></div>");e.addClass(this.getNamespace("footer-buttons"));
this.indexedButtons={};c.each(this.options.buttons,function(c,h){h.id||(h.id=b.newGuid());var f=a.createButton(h);a.indexedButtons[h.id]=f;e.append(f)});return e},createButton:function(a){var b=c('<button class="btn"></button>');b.prop("id",a.id);b.data("button",a);"undefined"!==typeof a.icon&&""!==c.trim(a.icon)&&b.append(this.createButtonIcon(a.icon));"undefined"!==typeof a.label&&b.append(a.label);"undefined"!==typeof a.cssClass&&""!==c.trim(a.cssClass)?b.addClass(a.cssClass):b.addClass("btn-default");
"undefined"!==typeof a.hotkey&&(this.registeredButtonHotkeys[a.hotkey]=b);b.on("click",{dialog:this,$button:b,button:a},function(a){var b=a.data.dialog,e=a.data.$button,c=e.data("button");"function"===typeof c.action&&c.action.call(e,b,a);c.autospin&&e.toggleSpin(!0)});this.enhanceButton(b);"undefined"!==typeof a.enabled&&b.toggleEnable(a.enabled);return b},enhanceButton:function(a){a.dialog=this;a.toggleEnable=function(a){"undefined"!==typeof a?this.prop("disabled",!a).toggleClass("disabled",!a):
this.prop("disabled",!this.prop("disabled"));return this};a.enable=function(){this.toggleEnable(!0);return this};a.disable=function(){this.toggleEnable(!1);return this};a.toggleSpin=function(b){var c=this.dialog,h=this.find("."+c.getNamespace("button-icon"));"undefined"===typeof b&&(b=!(0<a.find(".icon-spin").length));b?(h.hide(),a.prepend(c.createButtonIcon(c.getSpinicon()).addClass("icon-spin"))):(h.show(),a.find(".icon-spin").remove());return this};a.spin=function(){this.toggleSpin(!0);return this};
a.stopSpin=function(){this.toggleSpin(!1);return this};return this},createButtonIcon:function(a){var b=c("<span></span>");b.addClass(this.getNamespace("button-icon")).addClass(a);return b},enableButtons:function(a){c.each(this.indexedButtons,function(b,c){c.toggleEnable(a)});return this},updateClosable:function(){this.isRealized()&&this.getModalHeader().find("."+this.getNamespace("close-button")).toggle(this.isClosable());return this},onShow:function(a){this.options.onshow=a;return this},onShown:function(a){this.options.onshown=
a;return this},onHide:function(a){this.options.onhide=a;return this},onHidden:function(a){this.options.onhidden=a;return this},isRealized:function(){return this.realized},setRealized:function(a){this.realized=a;return this},isOpened:function(){return this.opened},setOpened:function(a){this.opened=a;return this},handleModalEvents:function(){this.getModal().on("show.bs.modal",{dialog:this},function(a){var b=a.data.dialog;b.setOpened(!0);if(b.isModalEvent(a)&&"function"===typeof b.options.onshow)return a=
b.options.onshow(b),!1===a&&b.setOpened(!1),a});this.getModal().on("shown.bs.modal",{dialog:this},function(a){var b=a.data.dialog;b.isModalEvent(a)&&"function"===typeof b.options.onshown&&b.options.onshown(b)});this.getModal().on("hide.bs.modal",{dialog:this},function(a){var b=a.data.dialog;b.setOpened(!1);if(b.isModalEvent(a)&&"function"===typeof b.options.onhide)return a=b.options.onhide(b),!1===a&&b.setOpened(!0),a});this.getModal().on("hidden.bs.modal",{dialog:this},function(a){var e=a.data.dialog;
e.isModalEvent(a)&&"function"===typeof e.options.onhidden&&e.options.onhidden(e);e.isAutodestroy()&&(e.setRealized(!1),delete b.dialogs[e.getId()],c(this).remove());b.moveFocus()});this.handleModalBackdropEvent();this.getModal().on("keyup",{dialog:this},function(a){27===a.which&&a.data.dialog.isClosable()&&a.data.dialog.canCloseByKeyboard()&&a.data.dialog.close()});this.getModal().on("keyup",{dialog:this},function(a){var b=a.data.dialog;"undefined"!==typeof b.registeredButtonHotkeys[a.which]&&(a=
c(b.registeredButtonHotkeys[a.which]),!a.prop("disabled")&&a.focus().trigger("click"))});return this},handleModalBackdropEvent:function(){this.getModal().on("click",{dialog:this},function(a){c(a.target).hasClass("modal-backdrop")&&a.data.dialog.isClosable()&&a.data.dialog.canCloseByBackdrop()&&a.data.dialog.close()});return this},isModalEvent:function(a){return"undefined"!==typeof a.namespace&&"bs.modal"===a.namespace},makeModalDraggable:function(){this.options.draggable&&(this.getModalHeader().addClass(this.getNamespace("draggable")).on("mousedown",
{dialog:this},function(a){var b=a.data.dialog;b.draggableData.isMouseDown=!0;var c=b.getModalDialog().offset();b.draggableData.mouseOffset={top:a.clientY-c.top,left:a.clientX-c.left}}),this.getModal().on("mouseup mouseleave",{dialog:this},function(a){a.data.dialog.draggableData.isMouseDown=!1}),c("body").on("mousemove",{dialog:this},function(a){var b=a.data.dialog;b.draggableData.isMouseDown&&b.getModalDialog().offset({top:a.clientY-b.draggableData.mouseOffset.top,left:a.clientX-b.draggableData.mouseOffset.left})}));
return this},realize:function(){this.initModalStuff();this.getModal().addClass(b.NAMESPACE).addClass(this.getCssClass());this.updateSize();this.getDescription()&&this.getModal().attr("aria-describedby",this.getDescription());this.getModalFooter().append(this.createFooterContent());this.getModalHeader().append(this.createHeaderContent());this.getModalBody().append(this.createBodyContent());this.getModal().data("bs.modal",new f(this.getModal(),{backdrop:"static",keyboard:!1,show:!1}));this.makeModalDraggable();
this.handleModalEvents();this.setRealized(!0);this.updateButtons();this.updateType();this.updateTitle();this.updateMessage();this.updateClosable();this.updateAnimate();this.updateSize();this.updateTabindex();return this},open:function(){!this.isRealized()&&this.realize();this.getModal().modal("show");return this},close:function(){!this.isRealized()&&this.realize();this.getModal().modal("hide");return this}};b.prototype=c.extend(b.prototype,b.METHODS_TO_OVERRIDE[f.getModalVersion()]);b.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)})};b.show=function(a){return(new b(a)).open()};b.alert=function(a,e){var d={},d={type:b.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,buttonLabel:b.DEFAULT_TEXTS.OK,callback:null},d="object"===typeof a&&a.constructor==={}.constructor?c.extend(!0,d,a):c.extend(!0,d,{message:a,callback:"undefined"!==typeof e?e:null});return(new b({type:d.type,title:d.title,message:d.message,closable:d.closable,draggable:d.draggable,
data:{callback:d.callback},onhide:function(a){!a.getData("btnClicked")&&a.isClosable()&&"function"===typeof a.getData("callback")&&a.getData("callback")(!1)},buttons:[{label:d.buttonLabel,action:function(a){a.setData("btnClicked",!0);"function"===typeof a.getData("callback")&&a.getData("callback")(!0);a.close()}}]})).open()};b.confirm=function(a,e){var d={},d={type:b.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,btnCancelLabel:b.DEFAULT_TEXTS.CANCEL,btnOKLabel:b.DEFAULT_TEXTS.OK,btnOKClass:null,
btnCancelClass:null,callback:null},d="object"===typeof a&&a.constructor==={}.constructor?c.extend(!0,d,a):c.extend(!0,d,{message:a,closable:!1,buttonLabel:b.DEFAULT_TEXTS.OK,callback:"undefined"!==typeof e?e:null});null===d.btnOKClass&&(d.btnOKClass=["btn",d.type.split("-")[1]].join("-"));null===d.btnCancelClass&&(d.btnCancelClass="btn-default");return(new b({type:d.type,title:d.title,message:d.message,closable:d.closable,draggable:d.draggable,data:{callback:d.callback},buttons:[{label:d.btnCancelLabel,
cssClass:d.btnCancelClass,action:function(a){"function"===typeof a.getData("callback")&&a.getData("callback")(!1);a.close()}},{label:d.btnOKLabel,cssClass:d.btnOKClass,action:function(a){"function"===typeof a.getData("callback")&&a.getData("callback")(!0);a.close()}}]})).open()};b.warning=function(a,c){return(new b({type:b.TYPE_WARNING,message:a})).open()};b.danger=function(a,c){return(new b({type:b.TYPE_DANGER,message:a})).open()};b.success=function(a,c){return(new b({type:b.TYPE_SUCCESS,message:a})).open()};
return b});
